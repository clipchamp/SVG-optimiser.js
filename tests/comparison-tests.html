<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Comparison tests for svg-optimiser</title>
  <style>
    svg {
      height: 240px;
      border: 1px solid black;
      fill: none;
      top: 0;
    }

    .svg-wrapper {
      display: inline-block;
      position: relative;
    }

    .test-svg svg {
      stroke: red;
    }

    .test-svg-results svg {
      position: absolute;
      stroke: rgb(0, 255, 50);
      opacity: 0.75;
    }

    p {
      margin-top: 0;
    }

  </style>
</head>
<body>
  
  <p>Below are a set of test SVGs. When they are optimised, the results are displayed over the top in green, making it easy to check for differences.</p>
  <p>The plan is to have a set of SVGs, apply different transforms to each, then optimise them and show the results overlaid so they can be compared. Also would like to show the % of file size reduction and how many transforms passed or failed.</p>

  <div><button>Create optimised SVGs</button></div>

  <div class="svg-wrapper">
    <div class="test-svg">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">
        <path id="absolute" transform="translate(-5, -12.005)" d="M10 30 L20 40 L30 30 z"/>
        <path id="relative" transform="translate(-5.5)" d="m25 5 l10 10 l-10 10 z"/>
        <path id="relative-and-absolute" transform="translate(-14.5)" d="m25 5 l-10 10 L25 25 z"/>
        <path id="just-m-command" transform="translate(-5, -8)" d="m10 20 10 -10 10 10 z"/>
      </svg>
      <p>Absolute and relative paths</p>
    </div>
  </div>

<div class="svg-wrapper">
    <div class="test-svg">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 24">
        <rect x="5" y="4" width="20" height="16"/>
        <path d="M3 2v16h20v-16z"/>
      </svg>
    </div>
    <p>Rect and rectangular path</p>
  </div>

  <div class="svg-wrapper">
    <div class="test-svg">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 90">
        <path transform="translate(-0.5 -7.2)" d="M10 40 A42 24 0 1 1 90 40 C80,50 70,30 60,40 S50,50, 40,40 20,50, 10,40 M86 50 Q74 40 62 50T38 50 14 50 L30 90 H45 V80 L55,80 55,90 70,90z"/>
        <path transform="translate(-0.5 -7.2)" d="m110 40A42 24 0 1 1 190 40c-10 10 -20 -10 -30 0s-10 10 -20 0 -20 10 -30 0m76 10q-12 -10 -24 0t-24 0 -24 0l16 40h15v-10l10 0 0 10 15 0z"/>
      </svg>
      <p>Multi-command path (absolute and relative)</p>
    </div>
  </div>

</div>

  <script src="../lib/jquery-1.11.3.min.js"></script>
  <script src="../scripts/optimise-functions.js"></script>
  <script src="../scripts/SVG-elements.js"></script>

  <script>
    // TODO: move into a separate file

    // Get divs containing test SVGs
    var $testCases = $('.svg-wrapper');

    $('button').on('click', function() {
      $testCases.each(function() {
        var $wrapper = $(this);
        // Get input SVG
        var inputSVG = $wrapper.find('svg')[0];
        // Convert to SVG optimisation object
        var svg = new SVG_Root(inputSVG);
        svg.optimise();

        // Add the results to the page
        var resultsDiv = $('<div class="test-svg-results">');
        resultsDiv.append(svg.createSVGObject());
        $wrapper.append(resultsDiv);
      });
    });

  </script>

</body>
</html>